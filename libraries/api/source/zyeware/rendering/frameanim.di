// This file was generated by ZyeWare APIgen. Do not edit!
module zyeware.rendering.frameanim;


import std.datetime : dur, Duration;
import std.conv : to;
import std.exception : enforce;
import zyeware;

@asset(Yes.cache) class FrameAnimations {

protected:

Animation[string] mAnimations;

public:

struct Frame {

size_t index;

Duration duration;
}

/// Represents a single animation.
struct Animation {

string name;

Frame[] frames;

bool isLooping;

bool hFlip;

bool vFlip;

Duration duration() pure const nothrow;
}

/// Adds an animation.
/// 
/// Params:
/// name = The name of the animation to add.
/// animation = The animation to add.
void addAnimation(string name, Animation animation) pure nothrow;

/// Removes an animation.
/// 
/// Params:
/// name = The name of the animation to remove.
void removeAnimation(string name) pure nothrow;

/// Returns the animation with the given name.
/// 
/// Params:
/// name = The name of the animation to return.
/// Returns: Pointer to the animation if found, `null` otherwise.
Animation* getAnimation(string name) pure;

static FrameAnimations load(string path);
}

@("Frame animations") unittest {
import unit_threaded.assertions;

FrameAnimations frameAnims;

FrameAnimations.Animation animation;
animation.name = "test";
animation.frames = [FrameAnimations.Frame(0, dur!"msecs"(100))];
animation.isLooping = true;
animation.hFlip = false;
animation.vFlip = false;
frameAnims.addAnimation("test", animation);
frameAnims.mAnimations.length.should == 1;

FrameAnimations.Animation* retrievedAnimation;
retrievedAnimation.should.not == null;
retrievedAnimation.name.should == "test";
retrievedAnimation.frames.length.should == 1;
retrievedAnimation.isLooping.should == true;
retrievedAnimation.hFlip.should == false;
retrievedAnimation.vFlip.should == false;
frameAnims.removeAnimation("test");
frameAnims.mAnimations.length.should == 0;
}